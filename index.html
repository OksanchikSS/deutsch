<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Проверка текста — зелёный / красный</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #ffffff;
      color: #111;
      margin: 0;
      padding: 40px;
      line-height: 1.6;
    }

    h1 {
      color: #006600;
      text-align: center;
      margin-bottom: 30px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    .text {
      font-size: 1.5rem;
      background: #f8f9fa;
      padding: 25px;
      border: 1px solid #ddd;
      border-radius: 8px;
      white-space: pre-wrap;
      margin-bottom: 20px;
    }

    .char {
      padding: 1px 0;
    }

    .correct  { color: #006600; font-weight: 500; }
    .wrong    { color: #cc0000; background: #ffecec; }
    .current  {
      background: #ffff99;
      border-bottom: 3px solid #ffcc00;
    }

    #input {
      width: 100%;
      font-size: 1.4rem;
      padding: 12px 16px;
      border: 2px solid #aaa;
      border-radius: 6px;
      box-sizing: border-box;
      font-family: inherit;
    }

    #input:focus {
      outline: none;
      border-color: #006600;
      box-shadow: 0 0 0 3px rgba(0, 102, 0, 0.15);
    }

    .info {
      text-align: center;
      color: #555;
      margin-top: 20px;
      font-size: 1.1rem;
    }
  </style>
</head>
<body>

<div class="container">

  <h1>Пиши правильно — зелёным, ошибки — красным</h1>

  <div class="text" id="text"></div>

  <textarea id="input" rows="3" autofocus placeholder="Начинай печатать здесь..."></textarea>

  <div class="info">
    Просто начни печатать — буквы будут подсвечиваться автоматически
  </div>

</div>

<script>
// Текст для набора (можно менять)
const originalText = `Съешь же ещё этих мягких французских булок, да выпей чаю.
Широкая электрификация южных губерний даст мощный толчок подъёму сельского хозяйства.
Всё это — лишь малая часть примеров использования ё в русском языке.`;

// Инициализация текста
function init() {
  const textEl = document.getElementById("text");
  textEl.innerHTML = "";

  originalText.split("").forEach(char => {
    const span = document.createElement("span");
    span.classList.add("char");
    span.textContent = char;
    textEl.appendChild(span);
  });
}

function handleInput() {
  const input = document.getElementById("input").value;
  const spans = document.querySelectorAll(".char");

  // Сбрасываем стили
  spans.forEach(s => {
    s.classList.remove("correct", "wrong", "current");
  });

  let i = 0;
  for (; i < input.length && i < spans.length; i++) {
    const expected = originalText[i];
    const typed = input[i];

    if (typed === expected) {
      spans[i].classList.add("correct");
    } else {
      spans[i].classList.add("wrong");
    }
  }

  // Подсвечиваем следующий символ
  if (i < spans.length) {
    spans[i].classList.add("current");
  }
}

// Запуск
init();

// События ввода
const inputEl = document.getElementById("input");
inputEl.addEventListener("input", handleInput);
inputEl.addEventListener("focus", handleInput); // на случай, если фокус вернётся

// Фокус при загрузке
window.addEventListener("load", () => {
  inputEl.focus();
});
</script>

</body>
</html>
